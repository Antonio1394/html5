<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Rueques Animation Frame</title>
    <style media="screen">
        #c{
          border:solid;
        }
    </style>
  </head>
  <body>
      <canvas id="c" width="800" height="600"></canvas>
      <script>
            var ctx,canvas;
            var x=0, y=0, v_x=10, v_y=10;
            var x2=100, y2=100, v_x2=5, v_y2=30;
            window.addEventListener('load',init);
            window.requestAnimationFrame = (function(){
            return window.requestAnimationFrame ||
            window.webkitRequestAnimationFrame ||
            window.mozRequestAnimationFrame ||

            function (f){
              window.setTimeout(f,1000/60);
            }
          })();
          function init(){
              canvas=document.getElementById('c');
              ctx=canvas.getContext('2d');
              draw();
          }

          function draw(){
              ctx.clearRect(0,0,800,600);
              ctx.beginPath();
              ctx.arc(x,y,50,0,Math.PI*2);
              ctx.arc(x2,y2,50,0,Math.PI*2);
              ctx.closePath();
              ctx.fill();
              x += v_x;
              y += v_y;
              x2 += v_x2;
              y2 += v_y2;
              if(x < 0 || x > canvas.width) v_x = -v_x;
              if(y < 0 || y > canvas.height) v_y = -v_y;

              if(x2 < 0 || x2 > canvas.width) v_x2 = -v_x2;
              if(y2 < 0 || y2 > canvas.height) v_y2 = -v_y2;
              requestAnimationFrame(draw);
          }



      </script>
  </body>
</html>
